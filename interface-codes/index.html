<!DOCTYPE html>
<html lang="en">
<head>
    <meta charset="UTF-8">
    <meta http-equiv="X-UA-Compatible" content="IE=edge">
    <meta name="viewport" content="width=device-width, initial-scale=1.0">
    <script src="https://cdnjs.cloudflare.com/ajax/libs/jquery/3.6.0/jquery.min.js" integrity="sha512-894YE6QWD5I59HgZOGReFYm4dnWc1Qt5NtvYSaNcOP+u1T9qYdvdihz0PPSiiqn/+/3e7Jo4EaG7TubfWGUrMQ==" crossorigin="anonymous" referrerpolicy="no-referrer"></script>
    <link href="https://cdn.jsdelivr.net/npm/bootstrap@5.1.3/dist/css/bootstrap.min.css" rel="stylesheet" integrity="sha384-1BmE4kWBq78iYhFldvKuhfTAU6auU8tT94WrHftjDbrCEXSU1oBoqyl2QvZ6jIW3" crossorigin="anonymous">
    <link rel="stylesheet" type="text/css" href="C:\CodeTEST\multi-modal-form-chartjs\interface-codes\css\style.css">
    <title>Document</title>
</head>
<body>
    <div class="card">
        <div class="card-header">
            Employee's Performance
            <button type="button" id="addNewPerformance" class="btn btn-primary" data-bs-toggle="modal" data-bs-target="#employeeInfo">Add New Performance</button>
        </div>
        <div class="card-body">
            <h5 class="card-title">Special title treatment</h5>
            <p class="card-text">With supporting text below as a natural lead-in to additional content.</p>
            <a href="#" class="btn btn-primary">Go somewhere</a>
        </div>
    </div>

    <!--Employee's info modal-->
    <div id="employeeInfo" class="modal" tabindex="-1">
        <div class="modal-dialog">
            <div class="modal-content">
                <div class="modal-header">
                    <h5 class="modal-title">Employee's Information</h5>
                    <button type="button" class="btn-close" data-bs-dismiss="modal" aria-label="Close"></button>
                </div>
                <div class="modal-body">
                    <form id="myForm" method="POST">
                        <div class="mb-3">
                            <label for="first-name" class="col-form-label">First Name:</label>
                            <input type="text" class="form-control" id="first-name" name="first-name">
                        </div>
                        <div class="mb-3">
                            <label for="last-name" class="col-form-label">Last Name:</label>
                            <input type="text" class="form-control" id="last-name" name="last-name">
                        </div>
                        <div class="mb-3">
                            <label for="hired-since" class="col-form-label">Hired Since:</label>
                            <input type="date" class="form-control" id="hired-since" name="hired-since">
                        </div>
                        <div class="mb-3">
                            <label for="addSalesGoals" class="col-form-label">Add Monthly Sales Goals:</label>
                            <button type="button" id="addSalesGoals" class="btn btn-primary">Add Sales Goals</button>

                        </div>
                    </form>
                </div>
                <div class="modal-footer">
                    <button type="button" class="btn btn-danger" data-bs-dismiss="modal">Cancel</button>
                    <button type="submit" form="myForm" class="btn btn-outline-success">Save</button>
                    <!--<button id="saveForm" type="button" class="btn btn-primary">Create Performance</button>-->
                </div>
            </div>
        </div>
    </div>

    <!--Sales Target Modal-->
    <div id="salesGoalsModal" class="modal" tabindex="-1" data-bs-backdrop="static" data-bs-keyboard="false" >
        <div class="modal-dialog">
            <div class="modal-content">
                <div class="modal-header">
                    <h5 class="modal-title">Sales Goals</h5>
                    <button type="button" class="btn-close" data-bs-dismiss="modal" aria-label="Close"></button>
                </div>
                <div class="modal-body">
                    <p>Enter sales goals for the following months.</p>
                    <!--<form id="salesGoalsForm">-->
                        <div class="first-row">
                            <div class="row">
                                <div class="col">
                                    <label for="january" class="col-form-label">January</label>
                                    <input form="myForm" type="text" class="form-control" id="january" name="january">
                                </div>
                                <div class="col">
                                    <label for="february" class="col-form-label">February</label>
                                    <input form="myForm" type="text" class="form-control" id="february" name="february">
                                </div>
                                <div class="col">
                                    <label for="march" class="col-form-label">March</label>
                                    <input form="myForm" type="text" class="form-control" id="march" name="march">
                                </div>
                                <div class="col">
                                    <label for="april" class="col-form-label">April</label>
                                    <input form="myForm" class="form-control" id="april" name="april">
                                </div>
                            </div>
                        </div>
                        <div class="second-row">
                            <div class="row">
                                <div class="col">
                                    <label for="may" class="col-form-label">May</label>
                                    <input form="myForm" type="text" class="form-control" id="may" name="may">
                                </div>
                                <div class="col">
                                    <label for="june" class="col-form-label">June</label>
                                    <input form="myForm" type="text" class="form-control" id="june" name="june">
                                </div>
                                <div class="col">
                                    <label for="july" class="col-form-label">July</label>
                                    <input form="myForm" type="text" class="form-control" id="july" name="july">
                                </div>
                                <div class="col">
                                    <label for="august" class="col-form-label">August</label>
                                    <input form="myForm" type="text" class="form-control" id="august" name="august">
                                </div>
                            </div>
                        </div>
                        <div class="third-row">
                            <div class="row">
                                
                                <div class="col">
                                    <label for="september" class="col-form-label">September</label>
                                    <input form="myForm" type="text" class="form-control" id="september" name="september">
                                </div>
                                <div class="col">
                                    <label for="october" class="col-form-label">October</label>
                                    <input form="myForm" type="text" class="form-control" id="october" name="october">
                                </div>
                                <div class="col">
                                    <label for="november" class="col-form-label">November</label>
                                    <input form="myForm" type="text" class="form-control" id="november" name="november">
                                </div>
                                <div class="col">
                                    <label for="december" class="col-form-label">December</label>
                                    <input form="myForm" type="text" class="form-control" id="december" name="december">
                                </div>
                            </div>
                        </div>
                        <div id="error-msg"></div>
                   <!--</form>-->
                    
                </div>
                <div class="modal-footer">
                <button id="cancelSalesGoals" type="button" class="btn btn-danger" data-bs-dismiss="modal">Cancel</button>
                <button id="saveSalesGoals" type="button" class="btn btn-outline-primary">Save changes</button>
                </div>
            </div>
        </div>
    </div>
    <script>
        $(document).ready(function(){
            $('#addSalesGoals').click(function(){
                $('#salesGoalsModal').modal('show')
            });

            $(document).on('show.bs.modal', '.modal', function() {
                const zIndex = 1040 + 10 * $('.modal:visible').length;
                $(this).css('z-index', zIndex);
                setTimeout(() => $('.modal-backdrop').not('.modal-stack').css('z-index', zIndex - 1).addClass('modal-stack'));
            });
            function ValidateSalesGoals(){
                var months = ["january", "february", "march", "april", "may", "june", "july", "august", "september", "october", "november", "december"];
                var values = [];
                var value = "";
                for(var i = 0; i < months.length; i++){
                    value = document.getElementById(months[i]).value;
                    if(isNaN(value) || value == ""){
                        values.push(document.getElementById(months[i]).value);
                        $("#" + months[i]).addClass("error");
                    }
                }
                if(values.length == 0){
                    return true;
                } else {
                    $("#error-msg").html('<div class="text-danger" role="alert">These fields can only contain numeric values!</div>');

                    return false;
                }
            }

            $("#saveSalesGoals").on( "click", function(){
                var validate = ValidateSalesGoals();
                if(validate){
                    $('#salesGoalsModal').modal('hide')
                } 
            });

            $("#cancelSalesGoals").on( "click", function(){
                console.log("cancelou");
                document.getElementById("january").value = null;
                document.getElementById("february").value = null;
                document.getElementById("march").value = null;
                document.getElementById("april").value = null;
                document.getElementById("may").value = null;
                document.getElementById("june").value = null;
                document.getElementById("july").value = null;
                document.getElementById("august").value = null;
                document.getElementById("september").value = null;
                document.getElementById("october").value = null;
                document.getElementById("november").value = null;
                document.getElementById("december").value = null;
            });
                
            $("#myForm").on("submit", function(){
                event.preventDefault();
                $("#myForm").serialize();
                console.log($("#myForm").serialize());
            });
        });
         
    </script>
    <script src="https://cdn.jsdelivr.net/npm/bootstrap@5.1.3/dist/js/bootstrap.bundle.min.js" integrity="sha384-ka7Sk0Gln4gmtz2MlQnikT1wXgYsOg+OMhuP+IlRH9sENBO0LRn5q+8nbTov4+1p" crossorigin="anonymous"></script>  
</body>
</html> 